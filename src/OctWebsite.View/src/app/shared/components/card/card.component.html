<article
  class="group flex h-full flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm transition-transform duration-300 hover:-translate-y-1 hover:shadow-[0_32px_70px_-35px_rgba(15,23,42,0.75)]"
>
  <!-- Image -->
  <figure
    *ngIf="image"
    class="relative overflow-hidden border-b border-[rgba(0,174,239,0.16)] after:pointer-events-none after:absolute after:inset-0 after:content-[''] after:bg-[linear-gradient(180deg,rgba(0,174,239,0.08)_0%,rgba(0,118,162,0.35)_100%)] after:opacity-0 after:transition-opacity after:duration-300 group-hover:after:opacity-100"
  >
    <img
      [src]="image"
      [alt]="imageAlt || title"
      loading="lazy"
      class="block h-[190px] w-full object-cover saturate-150 contrast-125 transition-transform duration-300 ease-out group-hover:scale-[1.02]"
    />

    <figcaption
      *ngIf="badge"
      class="absolute left-5 top-5 inline-flex items-center rounded-full bg-[rgba(0,174,239,0.18)] px-[1.1rem] py-[0.45rem] text-[0.75rem] font-semibold uppercase tracking-[0.08em] text-primary backdrop-blur-sm"
    >
      {{ badge }}
    </figcaption>
  </figure>

  <!-- Body -->
  <div class="grid h-full gap-5 p-7">
    <div class="flex items-center gap-3" [class.mt-4]="image">
      <div
        class="flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-500 via-primary-400 to-accent-500 text-lg font-semibold text-white shadow-[0_0_40px_rgba(56,189,248,0.5)]"
      >
        <ng-container *ngIf="icon; else defaultIcon">
          <span class="text-lg font-semibold uppercase">
            {{ icon[0] }}
          </span>
        </ng-container>

        <ng-template #defaultIcon>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="h-6 w-6"
          >
            <rect x="3" y="3" width="7" height="7" rx="1"></rect>
            <rect x="14" y="3" width="7" height="7" rx="1"></rect>
            <rect x="14" y="14" width="7" height="7" rx="1"></rect>
            <rect x="3" y="14" width="7" height="7" rx="1"></rect>
          </svg>
        </ng-template>
      </div>

      <!-- badge when there is no image -->
      <span
        *ngIf="badge && !image"
        class="inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-[0.7rem] font-semibold uppercase tracking-[0.12em] text-primary"
      >
        {{ badge }}
      </span>
    </div>

    <div class="space-y-3">
      <h3 class="text-xl font-semibold text-slate-900">
        {{ title }}
      </h3>
      <p class="text-sm text-slate-500" *ngIf="description">
        {{ description }}
      </p>
    </div>

    <div
      class="mt-auto flex items-center gap-2 text-sm font-semibold text-primary-600"
      *ngIf="link"
    >
      <a
        [routerLink]="link"
        class="inline-flex items-center gap-1 transition-all duration-200 group-hover:gap-2"
      >
        View details
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 7l-10 10m0-10h10v10"
          />
        </svg>
      </a>
    </div>
  </div>

  <ng-content></ng-content>
</article>

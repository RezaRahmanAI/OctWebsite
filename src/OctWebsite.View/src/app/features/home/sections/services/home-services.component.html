<section
  id="services"
  appScrollReveal
  class="relative isolate overflow-hidden py-16 lg:py-24 text-slate-50"
>
  <div class="container-wide">
    <!-- Header row -->
    <div class="flex flex-wrap items-center justify-between gap-4">
      <app-section-header
        [eyebrow]="header.eyebrow"
        [title]="header.title"
      ></app-section-header>

      <a
        routerLink="/services"
        class="inline-flex items-center gap-1.5 rounded-xl bg-sky-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/40 transition-transform duration-200 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-sky-500/60"
      >
        View all services
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.5"
            d="M9 5l7 7-7 7"
          />
        </svg>
      </a>
    </div>

    <!-- Cards -->
    <div class="mt-12 grid gap-6 md:grid-cols-2 xl:grid-cols-4">
      <article
        *ngFor="let service of services(); let i = index"
        appScrollReveal
        [revealDelay]="i * 0.08"
        [revealOffset]="40"
        class="group relative min-h-[260px] overflow-hidden rounded-3xl bg-cover bg-center shadow-xl shadow-slate-900/20 transition-transform duration-300 hover:-translate-y-1.5 hover:shadow-2xl"
        [ngClass]="service.featured ? 'ring-2 ring-sky-400/40' : ''"
        [ngStyle]="
          service.backgroundImage?.url ? { 'background-image': 'url(' + service.backgroundImage!.url + ')' } : null
        "
      >
        <!-- Dark base overlay (like hero + video opacity) -->
        <div
          class="pointer-events-none absolute inset-0 bg-slate-950/70 mix-blend-multiply"
          aria-hidden="true"
        ></div>

        <!-- Bottom gradient overlay (same vibe as hero gradient) -->
        <div
          class="pointer-events-none absolute inset-0 bg-gradient-to-b from-slate-900/10 to-slate-950/85"
          aria-hidden="true"
        ></div>

        <!-- Content -->
        <div class="absolute inset-0 z-10 flex flex-col gap-4 p-7">
          <!-- Icon + title row -->
          <div class="flex items-center gap-3">
            <div
              class="flex h-11 w-11 items-center justify-center rounded-2xl bg-white/15 text-2xl backdrop-blur-sm shadow-md shadow-slate-900/20"
            >
              <span aria-hidden="true">
                {{ service.icon }}
              </span>
            </div>
            <h3
              class="text-xl font-bold leading-tight tracking-tight drop-shadow-[0_8px_20px_rgba(0,0,0,0.4)]"
            >
              {{ service.title }}
            </h3>
          </div>

          <p class="max-w-xs text-sm text-slate-100/90">
            {{ service.description }}
          </p>
        </div>
      </article>
    </div>
  </div>
</section>

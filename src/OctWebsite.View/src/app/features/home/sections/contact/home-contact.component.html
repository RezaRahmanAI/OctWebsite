<section class="container-wide section-padding bg-white" id="contact">
  <app-section-header
        [eyebrow]="data.header.eyebrow"
        [title]="data.header.title"
        [subtitle]="data.header.subtitle"
      ></app-section-header>
  <div class="grid gap-12 lg:grid-cols-[0.9fr_1.1fr]">
    
    <div>
      
      <div class="mt-8 space-y-6 text-sm text-slate-600">
        <div>
          <h4 class="text-lg font-semibold text-primary">ğŸ¢ Headquarters</h4>
          <p class="mt-2">{{ data.headquarters }}</p>
        </div>
        <div class="grid gap-4 sm:grid-cols-2">
          <div>
            <h4 class="text-lg font-semibold text-primary">ğŸ“ Phone</h4>
            <p *ngFor="let phone of data.phones; let i = index" [ngClass]="{ 'mt-2': i > 0 }">
              {{ phone }}
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-primary">âœ‰ï¸ Email</h4>
            <p *ngFor="let email of data.emails" class="mt-2">{{ email.label }}: {{ email.value }}</p>
          </div>
        </div>
        <div>
          <h4 class="text-lg font-semibold text-primary">ğŸ• Business Hours</h4>
          <p *ngFor="let hours of data.businessHours" class="mt-2">{{ hours }}</p>
        </div>
        <div>
          <h4 class="text-lg font-semibold text-primary">ğŸŒ Follow Us</h4>
          <div class="mt-3 flex flex-wrap gap-3 text-sm font-semibold text-primary">
            <a *ngFor="let social of data.socials" [href]="social.url" target="_blank" rel="noopener">{{ social.label }}</a>
          </div>
          <ng-container *ngIf="data.consultation as consultation">
            <a
              *ngIf="consultation.routerLink; else consultationExternal"
              [routerLink]="consultation.routerLink"
              [fragment]="consultation.fragment"
              class="mt-4 inline-flex items-center gap-2 text-sm font-semibold text-primary underline-offset-4 hover:underline"
            >
              {{ consultation.label }}
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7" />
              </svg>
            </a>
            <ng-template #consultationExternal>
              <a
                *ngIf="consultation.externalUrl"
                [href]="consultation.externalUrl"
                target="_blank"
                rel="noopener"
                class="mt-4 inline-flex items-center gap-2 text-sm font-semibold text-primary underline-offset-4 hover:underline"
              >
                {{ consultation.label }}
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </ng-template>
          </ng-container>
          <a
            [href]="data.profileDownload.url"
            class="mt-2 inline-flex items-center gap-2 text-sm font-semibold text-primary underline-offset-4 hover:underline"
          >
            {{ data.profileDownload.label }}
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
    </div>
    <div class="rounded-[32px] border border-slate-100 bg-white p-10 shadow-glow">
      <form class="grid gap-6" [formGroup]="contactForm" (ngSubmit)="submit()" novalidate>
        <div class="grid gap-4 md:grid-cols-2">
          <div>
            <label for="name" class="text-sm font-semibold text-primary">Name*</label>
            <input
              id="name"
              type="text"
              formControlName="name"
              class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-accent/40"
              placeholder="Your full name"
            />
            <p *ngIf="fieldInvalid('name', 'required')" class="mt-2 text-xs text-rose-600">Name is required.</p>
            <p *ngIf="fieldInvalid('name', 'minlength')" class="mt-2 text-xs text-rose-600">Name must be at least 2 characters.</p>
            <p *ngIf="fieldInvalid('name', 'maxlength')" class="mt-2 text-xs text-rose-600">Name cannot exceed 100 characters.</p>
          </div>
          <div>
            <label for="email" class="text-sm font-semibold text-primary">Email*</label>
            <input
              id="email"
              type="email"
              formControlName="email"
              class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-accent/40"
              placeholder="you@company.com"
            />
            <p *ngIf="fieldInvalid('email', 'required')" class="mt-2 text-xs text-rose-600">Email is required.</p>
            <p *ngIf="fieldInvalid('email', 'email')" class="mt-2 text-xs text-rose-600">Enter a valid email address.</p>
            <p *ngIf="fieldInvalid('email', 'maxlength')" class="mt-2 text-xs text-rose-600">Email cannot exceed 200 characters.</p>
          </div>
        </div>
        <div class="grid gap-4 md:grid-cols-2">
          <div>
            <label for="phone" class="text-sm font-semibold text-primary">Phone</label>
            <input
              id="phone"
              type="tel"
              formControlName="phone"
              class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-accent/40"
              placeholder="Optional"
            />
            <p *ngIf="fieldInvalid('phone', 'pattern')" class="mt-2 text-xs text-rose-600">Enter a valid phone number.</p>
            <p *ngIf="fieldInvalid('phone', 'maxlength')" class="mt-2 text-xs text-rose-600">Phone number is too long.</p>
          </div>
          <div>
            <label for="interest" class="text-sm font-semibold text-primary">I'm interested in</label>
            <select
              id="interest"
              formControlName="interest"
              class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-accent/40"
            >
              <option value="">Select an option</option>
              <option *ngFor="let option of options()" [value]="option">{{ option }}</option>
            </select>
            <p *ngIf="fieldInvalid('interest', 'maxlength')" class="mt-2 text-xs text-rose-600">Selection is too long.</p>
          </div>
        </div>
        <div>
          <label for="message" class="text-sm font-semibold text-primary">Project Details / Message*</label>
          <textarea
            id="message"
            rows="4"
            formControlName="message"
            class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-accent/40"
            placeholder="Tell us about your goals"
          ></textarea>
          <p *ngIf="fieldInvalid('message', 'required')" class="mt-2 text-xs text-rose-600">Message is required.</p>
          <p *ngIf="fieldInvalid('message', 'minlength')" class="mt-2 text-xs text-rose-600">Message must be at least 10 characters.</p>
          <p *ngIf="fieldInvalid('message', 'maxlength')" class="mt-2 text-xs text-rose-600">Message cannot exceed 2000 characters.</p>
        </div>
        <button
          type="submit"
          [disabled]="loading()"
          class="inline-flex items-center justify-center rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-primary/25 transition hover:-translate-y-0.5 disabled:opacity-50"
        >
          {{ loading() ? 'Sendingâ€¦' : 'Submit' }}
        </button>
        <p class="text-xs text-slate-500">By submitting, you agree to our privacy policy and consent to receiving communications.</p>
        <div *ngIf="submitted()" class="rounded-xl bg-emerald-50 px-4 py-3 text-emerald-700">Thanks! We have received your inquiry.</div>
        <div *ngIf="error()" class="rounded-xl bg-rose-50 px-4 py-3 text-rose-700">{{ error() }}</div>
      </form>
    </div>
  </div>
</section>
